         nam   OS9p2         ttl   os9 system module    * Disassembled 2014/10/30 19:13:05 by Disasm v1.5 (C) 1988 by RML         ifp1         use   /dd/defs/os9defs         endctylg     set   Systm+$00atrv     set   ReEnt+revrev      set   $05         mod   eom,name,tylg,atrv,start,sizeu0000    rmb   1u0001    rmb   1u0002    rmb   2u0004    rmb   1u0005    rmb   1u0006    rmb   1u0007    rmb   1u0008    rmb   2u000A    rmb   2u000C    rmb   1u000D    rmb   1u000E    rmb   2u0010    rmb   2u0012    rmb   2u0014    rmb   2u0016    rmb   10u0020    rmb   4u0024    rmb   16u0034    rmb   7u003B    rmb   1u003C    rmb   4u0040    rmb   2u0042    rmb   2u0044    rmb   2u0046    rmb   2u0048    rmb   2u004A    rmb   2u004C    rmb   3u004F    rmb   1u0050    rmb   2u0052    rmb   2u0054    rmb   4u0058    rmb   2u005A    rmb   4u005E    rmb   13u006B    rmb   15u007A    rmb   9u0083    rmb   3u0086    rmb   5u008B    rmb   22u00A1    rmb   15u00B0    rmb   5u00B5    rmb   23u00CC    rmb   4u00D0    rmb   14u00DE    rmb   10u00E8    rmb   1u00E9    rmb   3u00EC    rmb   3u00EF    rmb   17size     equ   .name     equ   *         fcs   /OS9p2/         fcb   $12 start    equ   *         lda   #$32         jsr   <u005E         leay  >L008F,pcr         os9   Svc  F$I L001E    ldu   <u0024         ldd   <u0010,u         beq   L0037         leax  d,u         lda   #$78         jsr   <u005E         lda   #$05         os9   I$ChgDir          bcc   L0037         os9   oot  F$B          bcc   L001EL0037    ldu   <u0024         ldd   <u0012,u         beq   L0063         leax  d,u         lda   #$6F         jsr   <u005E         lda   #$03         os9   I$Open            bcc   L0052         os9   oot  F$B          bcc   L0037         bra   L008DL0052    ldx   <u0050         sta   <$30,x         os9   I$Dup             sta   <$31,x         os9   I$Dup             sta   <$32,xL0063    leax  <L0088,pcr         lda   #$C0         os9   F$Link            bcs   L006F         jsr   ,yL006F    ldu   <u0024         ldd   u000E,u         leax  d,u         lda   #$43         jsr   <u005E         lda   #$01         clrb           tfr   0,y         os9   F$Fork            bcc   L0085         jmp   <u006BL0085    os9   Proc F$V L0088    clra           comb           rts            neg   >$B30E         tim   #$02,$00,x         bita  $03,x         oim   #$93,<u0004         aim   #$78,<u0005         aim   #$ED,<u0006         lsr   <u007A         asr   <u0005         fcb   $11          lsl   <u0005         inc   $09,x         ror   <u0014         dec   <u0006         exg   d,0         ror   <u00B5         inc   <u0006         ldu   #$0E06         stb   <u0016         ror   <u00E9         nop            asr   <u00E8         sbca  <u0007         sbcb  >$1307         nop            subd  <u0007         andcc #$14         asr   <u0083         anda  <u0007         bsr   L00E1         lsl   <u003C         daa            lsl   <u0052         orcc  #$08         dec   -$04,x         lsl   <u0086         sex            lsl   <u008B         stx   $08,x         eorb  <u00B0         lsl   <u00EF         cmpa  >$0979         sta   >$09A6         adda  >$09C5         addb  #$01         addd  <u00CC         aim   #$20,<u004F         rol   <u00DE         negb           dec   <u0016         sbcb  <u000A         tsta           fcb   $55 U         neg   <u0004         clr   >$0013         suba  #$A6         fcb   $41 A         beq   L0108         deca           bne   L0104         cmpx  #$8601         sta   <u003BL0108    lda   <u003B         sta   u0001,u         clrb           rts            pshs  u,y,x,b,a         bsr   L0129         bcc   L011D         os9   oot  F$B          bcs   L0125         bsr   L0129         bcs   L0125L011D    jsr   ,y         puls  u,y,x,b,a         jmp   [>$00FE,y]L0125    stb   $01,s         puls  pc,u,y,x,b,aL0129    leax  <L0132,pcr         lda   #$C1         os9   F$Link            rts   L0132    rola           clra           tsta           oim   #$EE,-$0C,y         rora           ldd   u000A,u         tfr   d,x         lsra           lsra           lsra           lsra           lsra           sta   ,s         lbeq  L01CE         ldu   <u0050         leay  <u0040,u         lsla           ldd   a,y         ldu   <u0040         tim   #$02,d,u         beq   L01CE         leau  <$40,y         bra   L0160L015C    dec   ,s         beq   L01CEL0160    ldb   ,s         lslb           ldd   b,u         beq   L015C         lda   ,s         lsla           lsla           lsla           lsla           lsla           clrb           nega           addr  d,x         ldb   ,s         lslb           ldd   b,y         ldu   <u0044         bra   L0183L017C    leau  u0008,u         cmpu  <u0058         bcc   L01CEL0183    cmpx  u0004,u         bne   L017C         cmpd  [,u]         bne   L017C         ldd   u0006,u         beq   L0196         decd           std   u0006,u         bne   L01B3L0196    ldx   $02,s         ldx   $0A,x         ldd   #$0006         os9   DDDXYF$L          cmpa  #$D0         bcs   L01B1         os9   ODel F$S          bcc   L01B1         ldd   u0006,u         incd           std   u0006,u         bra   L01CFL01B1    bsr   L01D3L01B3    ldb   ,s         lslb           leay  b,y         ldd   <$40,y         decd           std   <$40,y         bne   L01CE         ldd   u0002,u         bsr   L021F         ldx   #$333EL01C9    stx   ,y++         deca           bne   L01C9L01CE    clrb  L01CF    leas  $02,s         puls  pc,uL01D3    ldx   <u0040         ldd   [,u]         lda   d,x         bmi   L021E         ldx   <u0044L01DD    ldd   [,x]         cmpd  [,u]         bne   L01E8         ldd   $06,x         bne   L021EL01E8    leax  $08,x         cmpx  <u0058         bcs   L01DD         ldx   <u0040         ldd   u0002,u         bsr   L021F         pshs  u         clrb           ldu   ,uL01F9    ldw   ,u++         stb   -u0002,u         stb   -u0001,u         addr  x,w         aim   #$FC,,w         deca           bne   L01F9         puls  u         ldx   <u0044         ldd   ,uL020F    cmpd  ,x         bne   L0218         clr   ,x         clr   $01,xL0218    leax  $08,x         cmpx  <u0058         bcs   L020FL021E    rts   L021F    addd  #$1FFF         lsra           lsra           lsra           lsra           lsra           rts            pshs  u         lbsr  L02C8         bcc   L0231         puls  pc,uL0231    pshs  u         ldx   <u0050         ldq   $08,x         std   u0008,u         ste   u000A,u         leax  <$20,x         leau  <u0020,u         ldw   #$0010         tfm   x+,u+         lde   #$03L024D    lda   ,x+         beq   L0257         os9   I$Dup             bcc   L0257         clra  L0257    sta   ,u+         dece           bne   L024D         ldx   ,s         ldu   $02,s         lbsr  L047D         bcs   L02AD         pshs  b,a         os9   llTskF$D          bcs   L02AD         lda   $07,x         clrb           subd  ,s         tfr   d,u         ldb   $06,x         ldx   <u0050         lda   $06,x         leax  ,y         puls  y         os9   ove  F$A          ldx   ,s         lda   <u00D0         ldu   $04,x         leax  >$01F2,x         ldy   #$000E         os9   ove  F$A          puls  u,x         os9   elTskF$S          ldy   <u0050         lda   ,x         sta   u0001,u         ldb   $03,y         sta   $03,y         lda   ,y         std   $01,x         aim   #$7F,$0C,x         os9   Proc F$N          rts   L02AD    puls  x         pshs  b         lbsr  L0578         lda   ,x         lbsr  L0361         comb           puls  pc,u,b         pshs  u         bsr   L02C8         bcs   L02C6         ldx   ,s         stu   $0A,xL02C6    puls  pc,uL02C8    ldx   <u0048L02CA    lda   ,x+         bne   L02CA         leax  -$01,x         tfr   x,d         subd  <u0048         tsta           beq   L02DB         comb           ldb   #$E5         rts   L02DB    pshs  b         ldd   #$0200         os9   RqMemF$S          puls  a         bcs   L030B         sta   ,u         tfr   u,d         sta   ,x         leay  <L02F5,pcr         leax  u0001,u         ldw   #$0100         tfm   y,x+         lda   #$80         sta   u000C,u         ldb   #$08         ldx   #$333E         leay  <u0040,uL0305    stx   ,y++         decb           bne   L0305         clrb  L030B    rts            lda   u0001,u         bra   L0361         ldx   <u0050         lda   $03,x         beq   L0343L0316    lbsr  L0A93         tim   #$01,$0C,y         bne   L0347         lda   $02,y         bne   L0316         sta   u0001,u         sta   u0002,u         pshs  cc         orcc  #$50         lda   <$19,x         beq   L0338         deca           bne   L0335         sta   <$19,xL0335    lbra  L06E0L0338    ldd   <u0054         std   $0D,x         stx   <u0054         puls  cc         lbra  L073BL0343    comb           ldb   #$E2         rts   L0347    lda   ,y         ldb   <$19,y         std   u0001,u         leau  ,y         leay  $01,x         bra   L0357L0354    lbsr  L0A93L0357    lda   $02,y         cmpa  ,u         bne   L0354         ldb   u0002,u         stb   $02,yL0361    pshs  u,x,b,a         cmpa  >$1015         bne   L036D         clrd           std   >$1015L036D    ldb   ,s         ldx   <u0048         abx            lda   ,x         beq   L0386         clrb           stb   ,x         tfr   d,x         os9   elTskF$S          leau  ,x         ldd   #$0200         os9   RtMemF$I L0386    puls  pc,u,x,b,a         pshs  u         lbsr  L02C8         bcc   L0391         puls  pc,uL0391    ldx   <u0050         pshs  u,x         leax  $04,x         leau  u0004,u         ldw   #$00FC         tfm   x+,u+         ldu   $02,s         leau  <u0040,u         ldx   ,s         lda   $06,x         lsla           ldx   <u00A1         stu   a,x         ldx   <u0050         clrd           stb   $06,x         std   <$13,x         std   <$15,x         std   <$17,x         sta   <$19,x         std   <$1A,x         ldu   <$11,x         os9   F$UnLink          ldb   $07,x         addb  #$1F         lsrb           lsrb           lsrb           lsrb           lsrb           lda   #$08         subr  b,a         leay  <$40,x         lslb           leay  b,y         ldu   #$333EL03E0    stu   ,y++         deca           bne   L03E0         ldu   $02,s         stu   <u0050         ldu   $04,s         lbsr  L047D         bcs   L046D         pshs  b,a         os9   llTskF$D          bcc   L03F7L03F7    ldu   <u0050         lda   u0006,u         ldb   $06,x         leau  >$01F2,x         leax  ,y         ldu   u0006,u         cmpr  x,u         puls  y         bhi   L0440         beq   L0443         leay  ,y         beq   L0443         pshs  x         addr  y,x         cmpr  x,u         puls  x         bls   L0440         pshs  u,y,x,b,a         addr  y,x         addr  y,uL0426    ldb   ,s         leax  -$01,x         os9   DABX F$S          exg   x,u         ldb   $01,s         leax  -$01,x         os9   TABX F$A          exg   x,u         leay  -$01,y         bne   L0426         puls  u,y,x,b,a         bra   L0443L0440    os9   ove  F$A L0443    lda   <u00D0         ldx   ,s         ldu   $04,x         leax  >$01F2,x         ldy   #$000E         os9   ove  F$A          puls  u,x         lda   ,u         lbsr  L0361         os9   elTskF$S          orcc  #$50         ldd   <u004A         std   <u0050         aim   #$7F,$0C,x         os9   Proc F$N          os9   Proc F$V L046D    puls  u,x         stx   <u0050         pshs  b         lda   ,u         lbsr  L0361         puls  b         os9   F$Exit   L047D    pshs  u,y,x,b,a         ldd   <u0050         pshs  b,a         stx   <u0050         lda   u0001,u         ldx   u0006,u         ldy   ,s         leay  <$40,y         os9   Link F$B          bcc   L04A3         ldd   ,s         std   <u0050         ldu   $04,s         os9   F$Load            bcc   L04A3         leas  $04,s         puls  pc,u,y,xL04A3    stu   $02,s         pshs  y,a         ldu   $0B,s         stx   u0006,u         ldx   $07,s         stx   <u0050         ldd   $05,s         std   <$11,x         puls  a         cmpa  #$11         beq   L04CF         cmpa  #$C1         beq   L04CF         cmpa  #$17         beq   L04CF         cmpa  #$C7         beq   L04CF         ldb   #$EAL04C8    leas  $02,s         stb   $03,s         comb           bra   L0512L04CF    ldd   #$000B         leay  <$40,x         ldx   <$11,x         os9   DDDXYF$L          cmpa  u0002,u         bcc   L04E2         lda   u0002,u         clrb  L04E2    os9   F$Mem             bcs   L04C8         ldx   $06,s         leay  >$01F2,x         pshs  b,a         subd  u0008,u         std   $06,y         subd  #$000E         std   $04,x         ldd   u0008,u         std   $01,y         std   $06,s         puls  x,b,a         std   $08,y         ldd   u000A,u         std   $06,s         lda   #$80         sta   ,y         clra           sta   $05,y         clrb           std   $0A,y         stx   $0C,yL0512    puls  b,a         std   <u0050         puls  pc,u,y,x,b,a         ldx   <u0050         bsr   L0578         ldb   u0002,u         stb   <$19,x         leay  $01,x         bra   L0536L0525    clr   $02,y         lbsr  L0A93         clr   $01,y         tim   #$01,$0C,y         beq   L0536         lda   ,y         lbsr  L0361L0536    lda   $02,y         bne   L0525         leay  ,x         ldx   #$0047         lds   <u00CC         pshs  cc         orcc  #$50         lda   $01,y         bne   L0557         puls  cc         lda   ,y         lbsr  L0361         bra   L0575L0553    cmpa  ,x         beq   L0565L0557    leau  ,x         ldx   $0D,x         bne   L0553         puls  cc         lda   #$81         sta   $0C,y         bra   L0575L0565    ldd   $0D,x         std   u000D,u         puls  cc         ldu   $04,x         ldu   u000A,u         lbsr  L0347         os9   Proc F$N L0575    os9   Proc F$V L0578    pshs  u         ldb   #$10         leay  <$30,xL057F    lda   ,y+         beq   L058C         clr   -$01,y         pshs  b         os9   I$Close           puls  bL058C    decb           bne   L057F         clra           ldb   $07,x         beq   L059E         addb  #$1F         lsrb           lsrb           lsrb           lsrb           lsrb           os9   elImgF$S L059E    ldd   <u0050         pshs  b,a         stx   <u0050         ldu   <$11,x         os9   F$UnLink          puls  u,b,a         std   <u0050         os9   elTskF$S          rts            ldx   <u0050         ldd   u0001,u         beq   L0608         addd  #$00FF         bcc   L05C0         ldb   #$CF         rts   L05C0    cmpa  $07,x         beq   L0608         pshs  a         bcc   L05D4         deca           ldb   #$F2         cmpd  $04,x         bcc   L05D4         ldb   #$DF         bra   L05F8L05D4    lda   $07,x         adda  #$1F         lsra           lsra           lsra           lsra           lsra           ldb   ,s         addb  #$1F         bcc   L05E7         ldb   #$CF         bra   L05F8L05E7    lsrb           lsrb           lsrb           lsrb           lsrb           subr  a,b         beq   L0604         bcs   L05FD         os9   llImgF$D          bcc   L0604L05F8    leas  $01,s         orcc  #$01         rts   L05FD    addr  b,a         negb           os9   elImgF$S L0604    puls  a         sta   $07,xL0608    lda   $07,x         clrb           std   u0001,u         std   u0008,u         rts            ldx   <u0050         lda   u0001,u         bne   L0622         inca  L0617    cmpa  ,x         beq   L061D         bsr   L0622L061D    inca           bne   L0617         clrb           rts   L0622    lbsr  L0A93         pshs  u,y,a,cc         bcs   L063A         tst   u0002,u         bne   L063C         ldd   $08,x         beq   L063C         cmpd  $08,y         beq   L063C         ldb   #$E0         inc   ,sL063A    puls  pc,u,y,a,ccL063C    orcc  #$50         ldb   u0002,u         bne   L0647         ldb   #$E4         oim   #$02,$0C,yL0647    aim   #$F7,$0C,y         lda   <$19,y         beq   L0658         deca           beq   L0658         inc   ,s         ldb   #$E9         puls  pc,u,y,a,ccL0658    stb   <$19,y         ldx   #$0049         clrd  L0660    leay  ,x         ldx   $0D,x         beq   L0698         ldu   $04,x         addd  u0006,u         cmpx  $02,s         bne   L0660         pshs  b,a         tim   #$40,$0C,x         beq   L0694         ldd   ,s         beq   L0694         ldd   u0006,u         ldw   ,s         stw   u0006,u         ldu   $0D,x         beq   L0694         std   ,s         tim   #u0040,$0C,u         beq   L0694         ldu   u0004,u         ldd   ,s         addd  u0006,u         std   u0006,uL0694    leas  $02,s         bra   L06A5L0698    ldx   #$0047L069B    leay  ,x         ldx   $0D,x         beq   L06B9         cmpx  $02,s         bne   L069BL06A5    ldd   $0D,x         std   $0D,y         lda   <$19,x         deca           bne   L06B6         sta   <$19,x         lda   ,s         tfr   a,ccL06B6    os9   Proc F$N L06B9    puls  pc,u,y,a,cc         ldx   <u0050         ldd   u0006,u         ldw   u000A,u         stq   <$1A,x         clrb           rts            pshs  cc         ldx   <u0050         cmpx  <u004A         beq   L0726         orcc  #$50         lda   <$19,x         beq   L06E7         deca           bne   L06DD         sta   <$19,xL06DD    aim   #$F7,$0C,xL06E0    puls  cc         os9   Proc F$N          bra   L073BL06E7    ldd   u0006,u         beq   L0728         decd           std   u0006,u         beq   L06E0         pshs  y,x         ldx   #$0049L06F6    std   u0006,u         stx   $02,s         ldx   $0D,x         beq   L0710         tim   #$40,$0C,x         beq   L0710         ldy   $04,x         ldd   u0006,u         subd  $06,y         bcc   L06F6         negd           std   $06,yL0710    puls  y,x         oim   #$40,$0C,x         ldd   $0D,y         stx   $0D,y         std   $0D,x         ldx   u0006,u         bsr   L073B         stx   u0006,u         ldx   <u0050         aim   #$BF,$0C,xL0726    puls  pc,ccL0728    ldx   #$0049L072B    leay  ,x         ldx   $0D,x         bne   L072B         ldx   <u0050         clra           clrb           stx   $0D,y         std   $0D,x         puls  ccL073B    pshs  pc,u,y,x,dp         leax  <L0759,pcr         stx   $07,s         ldx   <u0050         ldb   $06,x         cmpb  <u00D0         beq   L074D         os9   elTskF$S L074D    ldd   $04,x         pshsw          pshs  b,a,cc         sts   $04,x         os9   Proc F$V L0759    pshs  x         ldx   <u0050         std   $04,x         clrb           puls  pc,x         lda   u0001,u         lbsr  L0A93         bcs   L077D         ldx   <u0050         ldd   $08,x         beq   L0774         cmpd  $08,y         bne   L077AL0774    lda   u0002,u         sta   $0A,y         clrb           rts   L077A    comb           ldb   #$E0L077D    rts            ldx   <u0050         lda   ,x         sta   u0001,u         ldd   $08,x         std   u0008,u         clrb           rts            ldx   <u0050         ldb   u0001,u         decb           cmpb  #$03         bcc   L079B         lslb           addb  #$13         ldu   u0006,u         stu   b,x         rts   L079B    comb           ldb   #$E3         rts            ldx   u0006,u         ldu   #$0028         ldy   <u0050         lda   $06,y         ldb   <u00D0         ldy   #$0006         os9   ove  F$A          ldx   <u0050         pshs  x         ldx   <u004A         stx   <u0050         lda   #$C1         leax  >L07CC,pcr         os9   F$Link            puls  x         stx   <u0050         bcs   L07CB         jmp   ,yL07CB    rts   L07CC    coma           inc   $0F,s         com   d,s         ldd   u0001,u         ldx   u0006,u         bsr   L082A         ldy   <u0050         ldb   $06,y         bra   L07E6         ldd   u0001,u         ldx   u0006,u         bsr   L082A         ldb   <u00D0L07E6    ldw   u0008,u         beq   L0828         sta   ,-s         bmi   L0801         os9   DABX F$S L07F2    ora   ,s         decw           beq   L0823         lsr   ,s         bcc   L07F2         os9   TABX F$A          leax  $01,xL0801    lda   #$FF         bra   L080EL0805    os9   TABX F$A          leax  $01,x         subw  #$0008L080E    cmpw  #$0008         bhi   L0805         beq   L0823L0816    lsra           decw           bne   L0816         coma           sta   ,s         os9   DABX F$S          ora   ,sL0823    os9   TABX F$A          leas  $01,sL0828    clrb           rts   L082A    pshs  y,b         lsrd           lsrd           lsrd           addr  d,x         puls  b         leay  <L0840,pcr         andb  #$07         lda   b,y         puls  pc,yL0840    suba  #$40         bra   L0854         lsl   <u0004         aim   #$01,<u00EC         fcb   $41 A         ldx   u0006,u         bsr   L082A         ldy   <u0050         ldb   $06,y         bra   L085D         ldd   u0001,u         ldx   u0006,u         bsr   L082A         ldb   <u00D0L085D    ldw   u0008,u         beq   L089F         coma           sta   ,-s         bpl   L0879         os9   DABX F$S L086A    anda  ,s         decw           beq   L089A         asr   ,s         bcs   L086A         os9   TABX F$A          leax  $01,xL0879    clra           bra   L0885L087C    os9   TABX F$A          leax  $01,x         subw  #$0008L0885    cmpw  #$0008         bhi   L087C         beq   L089A         coma  L088E    lsra           decw           bne   L088E         sta   ,s         os9   DABX F$S          anda  ,sL089A    os9   TABX F$A          leas  $01,sL089F    clrb           rts            ldd   u0001,u         ldx   u0006,u         bsr   L082A         ldy   <u0050         ldb   $06,y         bra   L08B7         ldd   u0001,u         ldx   u0006,u         lbsr  L082A         ldb   <u00D0L08B7    pshs  y,x,b,a,cc         clrd           std   $03,s         ldw   u0001,u         tfr   w,y         bra   L08CEL08C4    tfr   w,yL08C6    lsr   $01,s         bcc   L08D9         ror   $01,s         leax  $01,xL08CE    cmpx  u000A,u         bcc   L08F7         ldb   $02,s         os9   DABX F$S          sta   ,sL08D9    incw           lda   ,s         anda  $01,s         bne   L08C4         tfr   w,d         subr  y,d         cmpd  u0008,u         bcc   L0900         cmpd  $03,s         bls   L08C6         std   $03,s         sty   $05,s         bra   L08C6L08F7    ldd   $03,s         std   u0008,u         comb           ldd   $05,s         bra   L0902L0900    tfr   y,dL0902    std   u0001,u         leas  $07,s         rts            ldx   <u0050         ldb   $06,x         lda   u0001,u         os9   ProcPF$M          bcs   L091F         lda   <u00D0         leax  ,y         ldy   #$0200         ldu   u0006,u         os9   ove  F$A L091F    rts            ldd   #$2000         std   u0001,u         ldd   <u0042         subd  <u0040         std   u0008,u         tfr   d,y         lda   <u00D0         ldx   <u0050         ldb   $06,x         ldx   <u0040L0935    ldu   u0006,u         os9   ove  F$A          rts            ldd   <u0046         subd  <u0044         tfr   d,y         ldd   <u0058         subd  <u0044         ldx   u0006,u         addr  d,x         stx   u0008,u         ldx   <u0044         stx   u000A,u         lda   <u00D0         ldx   <u0050         ldb   $06,x         ldx   <u0044         bra   L0935         ldx   <u0050         ldd   u0008,u         std   $08,x         clrb           rts            pshs  u         lda   u0001,u         ldx   <u0050         leay  <$40,x         ldx   u0006,u         os9   ModulF$M          puls  y         bcs   L09B1         stx   $06,y         ldw   u0006,u         beq   L0982         decw           stw   u0006,u         bne   L09B0L0982    cmpa  #$D0         bcs   L09AD         clra           ldx   [,u]         ldy   <u004CL098C    adda  #$02         cmpa  #$10         bcc   L09AD         cmpx  a,y         bne   L098C         lsla           lsla           lsla           lsla           clrb           addd  u0004,u         tfr   d,x         os9   ODel F$S          bcc   L09AD         ldw   u0006,u         incw           stw   u0006,u         rts   L09AD    lbsr  L01D3L09B0    clrb  L09B1    rts            ldx   u0006,u         lda   u0001,u         beq   L09C7         clrb           lsrd           lsrd           lda   a,x         tfr   d,x         beq   L09C7         tst   ,x         bne   L09C9L09C7    coma           rts   L09C9    stx   u0008,u         rts            ldx   u0006,u         bne   L09D8         bsr   L09E2         bcs   L09E1         stx   ,x         stx   u0006,uL09D8    bsr   L09FE         bcs   L09E1         sta   u0001,u         sty   u0008,uL09E1    rts   L09E2    pshs  u         ldq   #$01000100         os9   RqMemF$S          leax  ,u         ldu   ,s         stx   ,s         bcs   L09FB         leay  >L09FD,pcr         tfm   y,x+L09FB    puls  pc,xL09FD    neg   <u0034         negb           clra  L0A01    pshs  a         clrb           lda   a,x         beq   L0A13         tfr   d,y         clra  L0A0B    tst   d,y         beq   L0A15         addb  #$40         bcc   L0A0BL0A13    orcc  #$01L0A15    leay  d,y         puls  a         bcc   L0A40         inca           cmpa  #$40         bcs   L0A01         clra  L0A21    tst   a,x         beq   L0A2F         inca           cmpa  #$40         bcs   L0A21         comb           ldb   #$C8         puls  pc,u,xL0A2F    pshs  x,a         bsr   L09E2         bcs   L0A55         leay  ,x         tfr   x,d         tfr   a,b         puls  x,a         stb   a,x         clrb  L0A40    asld           asld           tfr   y,u         ldw   #$003F         leax  >L09FD,pcr         tfm   x,u+         sta   ,y         puls  pc,u,xL0A55    leas  $03,s         puls  pc,u,x         lda   u0001,u         ldx   u0006,u         pshs  u,y,x,b,a         clrb           tsta           beq   L0A87         lsrd           lsrd           pshs  a         lda   a,x         beq   L0A85         tfr   d,y         clr   ,y         clrb           tfr   d,u         clra  L0A75    tst   d,u         bne   L0A85         addb  #$40         bne   L0A75         inca           os9   RtMemF$I          lda   ,s         clr   a,xL0A85    clr   ,s+L0A87    puls  pc,u,y,x,b,a         lda   u0001,u         bsr   L0A93         bcs   L0A92         sty   u0008,uL0A92    rts   L0A93    pshs  x,b,a         ldb   ,s         beq   L0AA5         ldx   <u0048         abx            lda   ,x         beq   L0AA5         clrb           tfr   d,y         puls  pc,x,b,aL0AA5    puls  x,b,a         comb           ldb   #$E0         rts            ldx   u0006,u         ldd   u0001,u         leau  <$40,x         lsla           leau  a,uL0AB5    ldw   ,u         addw  <u0040         aim   #$FE,,w         ldw   #$333E         stw   ,u++         decb           bne   L0AB5         oim   #$10,$0C,x         clrb           rts            lda   u0002,u         beq   L0B04         cmpa  #$08         bhi   L0B04         leas  -$10,s         ldx   u0006,u         ldb   #$01         tfr   s,wL0ADD    stx   ,w++         abx            deca           bne   L0ADD         ldb   u0002,u         ldx   <u0050         leay  <$40,x         os9   reeHBF$A          bcs   L0B00         tfr   d,w         lsla           lsla           lsla           lsla           lsla           clrb           std   u000A,u         tfr   w,d         leau  ,s         os9   etImgF$F L0B00    leas  <$10,s         rts   L0B04    comb           ldb   #$DB         rts            ldb   u0002,u         beq   L0B40         ldd   u000A,u         tstb           bne   L0B04         bita  #$1F         bne   L0B04         ldx   <u0050         lda   $04,x         anda  #$E0         suba  u000A,u         bcs   L0B28         lsra           lsra           lsra           lsra           lsra           cmpa  u0002,u         bcs   L0B04L0B28    oim   #$10,$0C,x         lda   u000A,u         lsra           lsra           lsra           lsra           leay  <$40,x         leay  a,y         ldb   u0002,u         ldx   #$333EL0B3B    stx   ,y++         decb           bne   L0B3BL0B40    clrb           rts            ldx   <u0044         bra   L0B4CL0B46    ldu   ,x         beq   L0B52         leax  $08,xL0B4C    cmpx  <u0058         bne   L0B46         bra   L0B71L0B52    tfr   x,y         bra   L0B5AL0B56    ldu   ,y         bne   L0B63L0B5A    leay  $08,y         cmpy  <u0058         bne   L0B56         bra   L0B6FL0B63    ldw   #$0008         tfm   y+,x+         cmpy  <u0058         bne   L0B56L0B6F    stx   <u0058L0B71    ldx   <u0046         bra   L0B79L0B75    ldu   ,x         beq   L0B81L0B79    leax  -$02,x         cmpx  <u005A         bne   L0B75         clrb           rts   L0B81    ldu   -$02,x         bne   L0B79         tfr   x,y         bra   L0B8DL0B89    ldu   ,y         bne   L0B96L0B8D    leay  -$02,yL0B8F    cmpy  <u005A         bcc   L0B89         bra   L0BA7L0B96    leay  $02,y         ldu   ,y         stu   ,xL0B9C    ldu   ,--y         stu   ,--x         beq   L0BAD         cmpy  <u005A         bne   L0B9CL0BA7    stx   <u005A         bsr   L0BB9         clrb           rts   L0BAD    leay  $02,y         leax  $02,x         bsr   L0BB9         leay  -$04,y         leax  -$02,x         bra   L0B8FL0BB9    pshs  u         ldu   <u0044         bra   L0BC8L0BBF    cmpy  ,u         bne   L0BC6         stx   ,uL0BC6    leau  u0008,uL0BC8    cmpu  <u0058         bne   L0BBF         puls  pc,u         emodeom      equ   *         end